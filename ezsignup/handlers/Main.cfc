<cfcomponent output="false">		<!--- instantiate userservice model --->	<cfset this.userService = createObject("component", "models.UserService").init() />	<!--- Default Action --->	<cffunction name="index" returntype="void" output="false" hint="My main event">		<cfargument name="event">		<cfargument name="rc">		<cfargument name="prc">				<cfset prc.welcomeMessage = "Welcome to EZ-Signup!">					<cfset event.setView("Main/index")>	</cffunction>		<!--- Join Mailinglist Form Submission --->	<cffunction name="join" access="public" returntype="void" output="false">		<cfargument name="Event" type="any">		<cfset var rc = event.getCollection()>				<cfset event.paramValue("firstname","")>		<cfset event.paramValue("lastname","")>		<cfset event.paramValue("email","")>				<!--- Verify user info --->		<cfif NOT len(rc.firstname) OR NOT len(rc.lastname) OR NOT len(rc.email)>			<cfset getPlugin("MessageBox").warn("Please enter a value for email and/or name")>			<cfset Event.setView("Main/index")>		</cfif>				<!--- Create User --->		<cftry>
						<!--- create a user object --->			<cfset var user = new models.User()              .setFirstname( rc.firstname )              .setLastname( rc.lastname )              .setEmail( rc.email ) />                        <!--- Save user --->			<cfset this.userService.create(user)>            			<!---send user to executor server which will send initial email --->			<cfset var task = new tasks.InitialEmailTask(user)>			<cfset var future = application.executorCompletionService.submit( task )>			<cfset rc.workerResponse = future.get()>						<cfset event.setValue( 'fullname', #user.getFullName()# )>			<cfset Event.setView("Main/join")>						<!---emails must be unique, if database error occurs a message will alert the user --->			<cfcatch type="Database">				<cfset getPlugin("MessageBox").warn("You have already signed up for our news letter")>				<cfset Event.setView("Main/index")>			</cfcatch>
		</cftry>	</cffunction></cfcomponent>